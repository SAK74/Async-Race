(()=>{"use strict";var t={d:(e,n)=>{for(var c in n)t.o(n,c)&&!t.o(e,c)&&Object.defineProperty(e,c,{enumerable:!0,get:n[c]})}};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),t.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),t.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var c=n.getElementsByTagName("script");c.length&&(e=c[c.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})();var e={};t.r(e),t.d(e,{getPage:()=>i,setPage:()=>d});class n{constructor(t,e,n){this.name=t,this.index=n,this.script=e}isActive(){const{hash:t}=window.location;return t.replace("#","")===this.name}}const c="https://async-race-backend.vercel.app";function a(t,e){return fetch(t,e).then((n=>{if(!n.ok)throw Error(n.status+n.statusText);return"/garage"!==t.pathname&&"/winners"!==t.pathname||e?.method||function(t,e){const n=+new URL(e).searchParams.get("_page");document.getElementById("total").innerText=t,document.getElementById("page").innerText=n;const c=Math.ceil(t/("/garage"===e.pathname?7:10));document.getElementById("total-pages").innerText=c,document.querySelector(".pagination button:last-of-type").toggleAttribute("disabled",n===c)}(+n.headers.get("X-total-Count"),t),n.json()}))}const o=new URL("/engine",c);function r(t,e){const n=new URLSearchParams({id:t,status:e});return o.search=n.toString(),a(o,{method:"PATCH"})}const s=async(t,e)=>{const n=e.parentElement.clientWidth,c=e.width.baseVal.value,{distance:a,velocity:o}=await r(t,"started");e.animate([{transform:"translateX(0)"},{transform:`translateX(${n-c}px)`}],{duration:a/o,fill:"forwards"}).id=t},i=()=>{const t=window.sessionStorage.getItem("garage-page");return t?parseInt(t,10):1},d=t=>{document.getElementById("page").innerHTML=t,window.sessionStorage.setItem("garage-page",t)},l=new URL("/garage",c),u=new Headers({"Content-Type":"application/json"}),h=(t,e)=>{const n=new URL(t.toString());return n.pathname+=`/${e}`,n},m=()=>{const t=new URLSearchParams({_page:i(),_limit:7});return l.search=t.toString(),a(l)},p=(t="new car",e="red")=>(l.search="",a(l,{headers:u,method:"POST",body:JSON.stringify({name:t,color:e})})),g=new URL("/winners",c);function b(t,e="normal"){const n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttributes({viewBox:"0 0 1000 1000",width:"normal"===e?"100":"60"}),n.innerHTML='<metadata> Svg Vector Icons : http://www.onlinewebfonts.com/icon </metadata> <g><g transform="translate(0.000000,153.000000) scale(0.100000,-0.100000)"> <path d="M2776.9-1850.4c-15.2-4.3-28.2-32.6-28.2-63c0-69.5-39.1-91.2-455.9-247.5c-197.5-73.8-514.5-201.9-705.5-286.6c-191-82.5-401.6-160.6-466.7-171.5c-316.9-52.1-395.1-63-601.3-76c-204.1-13-225.8-19.5-256.2-67.3c-28.2-41.2-30.4-58.6-8.7-84.7c19.5-23.9,19.5-49.9,0-115c-13-45.6-23.9-138.9-23.9-208.4c0-99.9-10.9-136.8-54.3-186.7c-69.5-84.7-82.5-165-73.8-460.2c8.7-245.3,8.7-247.5,73.8-303.9c36.9-30.4,78.2-78.1,95.5-108.5c15.2-28.2,60.8-69.5,102-89c106.4-50,425.5-97.7,766.3-115.1l290.9-13l-13,54.3c-19.5,71.6,21.7,310.4,71.6,425.5c63,143.3,260.5,336.5,419,408.1c117.2,56.4,160.6,62.9,340.8,62.9c186.7,0,219.3-6.5,347.3-67.3c340.8-165,525.4-505.8,479.8-894.4l-15.2-134.6H5371c2192.6,0,2309.8,2.2,2294.6,39.1c-41.3,99.9-36.9,327.8,8.7,475.4c147.6,479.7,679.5,722.9,1137.5,518.8c160.6-71.7,347.3-254,423.3-419c49.9-110.7,56.5-154.1,58.6-351.7v-223.6l173.7,15.2c386.4,30.4,410.3,52.1,421.2,399.4c19.5,614.3,17.4,688.2-32.6,755.5c-71.7,97.7-173.7,154.1-419,232.3c-529.7,169.3-1285.1,293.1-1934.2,314.8l-466.7,15.2l-271.3,165c-330,199.7-874.8,492.8-1055,568.8c-403.8,169.3-768.5,217.1-1582.5,214.9c-345.2-2.2-725.1-13-842.3-21.7c-188.9-17.4-223.6-13-277.9,19.5C2946.2-1837.4,2835.5-1826.5,2776.9-1850.4z M4268.2-2041.4c0-4.3,30.4-193.2,65.1-414.6c36.9-223.6,63-410.3,58.6-414.6c-17.4-15.2-1636.8,36.9-1773.6,58.6c-121.6,19.5-152,34.7-221.4,108.5c-67.3,69.5-82.5,102-82.5,173.7c0,49.9,10.9,108.5,21.7,132.4c76,138.9,662.1,295.2,1283,343C3881.8-2034.9,4268.2-2026.2,4268.2-2041.4z M5112.7-2100c147.6-23.9,334.3-62.9,412.5-86.8c160.7-47.8,429.8-186.7,655.6-336.5l152-99.8l-62.9-28.2c-67.3-28.2-102-110.7-80.3-184.5c13-41.2-2.2-41.2-688.2-36.9l-701.2,6.5l-134.6,399.4c-73.8,219.3-130.3,406-125.9,414.6C4554.8-2028.4,4804.4-2050.1,5112.7-2100z"/> <path d="M2006.2-3556.7c-349.5-132.4-544.9-405.9-544.9-764.1c0-319.1,154.1-570.9,436.3-709.9c132.4-65.1,160.6-71.6,351.7-71.6s219.3,6.5,351.7,71.6c284.4,138.9,436.3,388.6,436.3,709.9c0,314.8-145.4,557.9-423.3,705.5c-121.6,65.1-158.5,73.8-332.1,80.3C2153.8-3530.6,2058.3-3537.1,2006.2-3556.7z M2499-3806.3c112.9-58.6,238.8-188.9,282.2-295.2c43.4-104.2,45.6-330,4.3-432c-43.4-104.2-178-247.5-284.4-303.9c-125.9-65.1-377.7-65.1-503.6,0c-106.4,56.4-241,199.7-284.4,303.9c-41.2,102-39.1,327.8,4.3,432c58.6,143.3,217.1,284.4,379.9,336.5C2186.4-3734.7,2405.6-3758.6,2499-3806.3z"/> <path d="M2071.3-3869.3c-45.6-17.4-82.5-39.1-82.5-47.7c0-8.7,39.1-54.3,86.8-99.9l86.8-84.6v134.6c0,73.8-2.2,134.6-4.3,132.4C2153.8-3834.5,2114.7-3849.7,2071.3-3869.3z"/> <path d="M2336.2-3967v-136.8l91.2,91.2c49.9,49.9,86.8,97.7,80.3,102c-6.5,6.5-47.8,26.1-91.2,45.6l-80.3,32.6V-3967z"/> <path d="M1802.1-4125.4c-45.6-112.9-41.2-119.4,89-119.4c84.7,0,119.4,8.7,119.4,28.2c0,30.4-130.2,167.2-158.5,167.2C1841.2-4049.5,1819.5-4084.2,1802.1-4125.4z"/> <path d="M2557.6-4121.1c-99.9-102-91.2-123.8,49.9-123.8c67.3,0,119.4,8.7,119.4,21.7c0,41.3-63,173.7-82.5,173.7C2635.7-4049.5,2596.7-4082,2557.6-4121.1z"/> <path d="M2227.6-4158c0-10.8,10.9-21.7,21.7-21.7c13,0,21.7,10.9,21.7,21.7c0,13-8.7,21.7-21.7,21.7C2238.5-4136.3,2227.6-4145,2227.6-4158z"/> <path d="M2212.4-4260c-39.1-15.2-34.7-108.5,4.3-123.7c52.1-19.6,97.7,8.7,97.7,62.9c0,39.1-47.8,86.8-71.6,73.8C2240.7-4247,2225.5-4253.5,2212.4-4260z"/> <path d="M2058.3-4307.8c8.7-28.2,39.1-34.7,41.2-8.7c0,8.7-10.9,19.6-23.9,26.1C2060.5-4286.1,2051.8-4294.8,2058.3-4307.8z"/> <path d="M2390.4-4307.8c-13-23.9,19.5-49.9,41.2-30.4c19.5,19.6,15.2,49.9-6.5,49.9C2412.2-4288.2,2399.1-4296.9,2390.4-4307.8z"/> <path d="M1771.8-4418.5c0-13,15.2-58.6,32.6-102l32.6-80.3l86.8,84.7c47.8,47.8,86.8,93.3,86.8,102s-54.3,17.4-119.4,17.4C1823.9-4396.8,1771.8-4405.5,1771.8-4418.5z"/> <path d="M2488.1-4414.1c0-8.7,39.1-54.3,86.8-102l86.8-84.7l32.6,80.3c47.8,117.2,43.4,123.7-86.8,123.7C2542.4-4396.8,2488.1-4405.5,2488.1-4414.1z"/> <path d="M2227.6-4483.6c0-10.8,10.9-21.7,21.7-21.7c13,0,21.7,10.9,21.7,21.7c0,13-8.7,21.7-21.7,21.7C2238.5-4461.9,2227.6-4470.6,2227.6-4483.6z"/> <path d="M2045.3-4633.4l-82.5-84.7l65.1-34.7c117.2-60.8,134.6-50,134.6,84.6c0,65.1-8.7,119.4-17.4,119.4C2136.5-4548.7,2090.9-4587.8,2045.3-4633.4z"/> <path d="M2336.2-4668.1c0-134.6,17.4-145.4,134.6-84.6l65.1,34.7l-82.5,84.7c-45.6,45.6-91.2,84.6-99.9,84.6C2344.9-4548.7,2336.2-4603,2336.2-4668.1z"/> <path d="M8195.3-3569.7c-241-95.5-442.9-317-497.1-544.9c-41.2-169.3-19.5-405.9,49.9-547.1c73.8-149.8,232.3-306.1,384.2-382.1c106.4-52.1,143.3-58.6,336.5-58.6c193.2,0,230.1,6.5,340.8,60.8c160.6,78.2,301.7,219.3,379.9,379.9c54.3,110.7,60.8,147.6,60.8,340.8c0,188.9-6.5,232.3-58.6,340.8c-73.8,158.5-223.6,308.3-382.1,382.1C8644.6-3519.8,8349.4-3506.7,8195.3-3569.7z M8636-3767.2c45.6-13,123.8-54.3,173.7-93.3c284.4-217.1,312.6-612.2,60.8-864c-227.9-227.9-577.4-225.8-803.2,2.2c-230.1,227.9-230.1,575.3,0,805.4C8219.2-3765.1,8429.7-3710.8,8636-3767.2z"/> <path d="M8251.7-3880.1c-23.9-13-47.8-28.2-52.1-32.6c-13-10.8,154.1-180.2,175.8-180.2c8.7,0,17.4,54.3,17.4,119.4c0,108.5-4.3,119.4-47.8,119.4C8316.9-3854.1,8275.6-3867.1,8251.7-3880.1z"/> <path d="M8544.8-3958.3c0-58.6,6.5-112.9,15.2-121.6c15.2-13,180.2,134.6,180.2,160.6c0,21.7-104.2,65.1-152,65.1C8551.3-3854.1,8544.8-3869.3,8544.8-3958.3z"/> <path d="M8049.8-4077.7c-15.2-17.4-32.6-60.8-39.1-97.7l-13-69.5h121.6c67.3,0,121.6,8.7,121.6,17.4c0,8.7-36.9,54.3-82.5,97.7C8088.9-4062.5,8069.4-4051.6,8049.8-4077.7z"/> <path d="M8777.1-4131.9c-45.6-45.6-73.8-89-67.3-97.7c8.7-8.7,63-15.2,121.6-15.2c89,0,104.2,6.5,104.2,43.4c0,47.8-43.4,152-65.1,152C8863.9-4049.5,8820.5-4086.4,8777.1-4131.9z"/> <path d="M8436.2-4158c0-10.8,15.2-21.7,32.6-21.7c17.4,0,32.6,10.9,32.6,21.7c0,13-15.2,21.7-32.6,21.7C8451.5-4136.3,8436.2-4145,8436.2-4158z"/> <path d="M8414.5-4275.2c-58.6-71.7,39.1-156.3,104.2-91.2c28.2,28.2,30.4,43.4,13,73.8C8499.2-4242.6,8449.3-4236.1,8414.5-4275.2z"/> <path d="M8284.3-4320.8c0-17.4,10.9-32.6,21.7-32.6c13,0,21.7,15.2,21.7,32.6s-8.7,32.6-21.7,32.6C8295.2-4288.2,8284.3-4303.4,8284.3-4320.8z"/> <path d="M8609.9-4320.8c0-17.4,10.9-32.6,21.7-32.6c13,0,21.7,15.2,21.7,32.6s-8.7,32.6-21.7,32.6C8620.8-4288.2,8609.9-4303.4,8609.9-4320.8z"/> <path d="M8010.8-4466.3c26-128.1,54.3-136.8,147.6-45.6c45.6,43.4,82.5,89,82.5,97.7s-54.3,17.4-121.6,17.4h-121.6L8010.8-4466.3z"/> <path d="M8696.8-4414.1c0-21.7,169.3-188.9,180.2-175.8c28.2,30.4,58.6,110.7,58.6,147.6c0,41.2-13,45.6-119.4,45.6C8751-4396.8,8696.8-4405.5,8696.8-4414.1z"/> <path d="M8436.2-4483.6c0-10.8,15.2-21.7,32.6-21.7c17.4,0,32.6,10.9,32.6,21.7c0,13-15.2,21.7-32.6,21.7C8451.5-4461.9,8436.2-4470.6,8436.2-4483.6z"/> <path d="M8277.8-4631.2c-91.2-93.3-82.5-121.6,45.6-147.6l69.5-13v121.6c0,67.3-8.7,121.6-17.4,121.6C8366.8-4548.7,8321.2-4585.7,8277.8-4631.2z"/> <path d="M8544.8-4670.3v-121.6l69.5,13c128.1,26.1,136.8,54.3,45.6,147.6c-43.4,45.6-89,82.5-97.7,82.5C8553.5-4548.7,8544.8-4603,8544.8-4670.3z"/></g></g> ',n.querySelector("path:first-of-type").style.fill=t,n}function f(t,e,n){const c=document.createElement("div");c.classList.add("car-container"),c.id=`car#${n}`,c.innerHTML='<div class="name"></div> <button class="select-btn ctrl-btn">Select car</button> <button class="remove-btn ctrl-btn">Remove car</button> <button class="go-btn button">Go!</button> <button class="stop-btn button" disabled="disabled">Stop</button> ';const o=c.querySelector(".select-btn"),u=c.querySelector(".remove-btn");c.querySelector(".name").innerText=t;const p=c.querySelector(".go-btn"),y=c.querySelector(".stop-btn"),w=b(e);c.appendChild(w),p.onclick=function(){this.disabled=!0,y.disabled=!1,((t,e)=>{s(t,e).then((()=>{r(t,"drive").catch((()=>{e.getAnimations()[0].pause()}))}))})(n,w)},y.onclick=function(){this.disabled=!0,p.disabled=!1,((t,e)=>{const n=e.getAnimations()[0];n.pause(),r(t,"stopped").then((()=>{n.cancel()}))})(n,w)};const v=document.forms.update;return o.onclick=()=>{((t,e,n,c)=>{const{id:a,name:o,color:r,button:s}=c;o.disabled=!1,r.disabled=!1,s.disabled=!1,a.value=n,o.value=t,r.value=e})(t,e,n,v)},u.onclick=()=>{((t,e)=>{const n=document.querySelector(".cars-container");var c;(c=t,l.search="",a(h(l,c),{method:"DELETE"})).then((()=>{(t=>{g.search="",a(h(g,t),{method:"DELETE"})})(t),1===n.children.length&&d(i()-1),m().then((t=>{n.innerHTML=null,t.forEach((t=>{const{name:c,color:a,id:o}=t;n.appendChild(e(c,a,o))}))}));const c=document.forms.update;c.reset(),c.button.disabled=!0,c.name.disabled=!0,c.color.disabled=!0}))})(n,f)},c}SVGSVGElement.prototype.setAttributes=function(t){Object.keys(t).forEach((e=>{this.setAttribute(e,t[e])}))};const y=["Ford","Aston Martin","BMW","Mercedes","Toyota","Chevrolet","Bentley","Porsche","Ferrari","Lamborghini"],w=["Mustang","911","DB1","M8","GLE","Supra","Camaro","F40","Aventador","Continental"];class v{constructor(){this.name=`${y[Math.round(9*Math.random())]} ${w[Math.round(9*Math.random())]}`,this.color=`#${Math.round(16777215*Math.random()).toString(16)}`}}const M=()=>{const t=document.querySelector(".cars-container");m().then((e=>{t.innerHTML=null,e.forEach((e=>{const{name:n,color:c,id:a}=e;t.appendChild(f(n,c,a))}))}))},S=t.p+"assets/c35664ce292f295a155c.wav";const C=()=>{const t=document.getAnimations().map((t=>t.finished));Promise.any(t).then((({currentTime:t,id:e})=>{const n=document.getElementById(`car#${e}`).querySelector(".name").innerText,c=Math.round(t)/1e3;!function(t,e){new Audio(S).play();const n=document.createElement("div");n.className="popup";const c=document.createElement("div");c.innerText=`WINNER: ${t}`;const a=document.createElement("div");a.innerText=`with time ${e}`;const o=document.createElement("div");o.innerHTML="&#127942;",o.className="cup";const r=document.createElement("div");r.className="cross",r.innerHTML="&#10060;",r.onclick=()=>n.remove(),[o,c,a,r].forEach((t=>{n.appendChild(t)}));const s=window.setTimeout((()=>{n.remove(),window.clearTimeout(s)}),4e3);document.body.appendChild(n)}(n,c),function(t,e){(t=>(g.search="",a(h(g,t))))(t).then((({wins:n,time:c})=>{((t,e,n)=>{g.search="",a(h(g,t),{method:"PUT",headers:u,body:JSON.stringify({wins:e,time:n})})})(t,n+1,Math.min(c,e))})).catch((()=>{((t,e,n)=>{g.search="",a(g,{method:"POST",headers:u,body:JSON.stringify({id:t,wins:1,time:n})})})(t,0,e)}))}(e,c)}))};function E(t,{getPage:e,setPage:n}){const c=document.createElement("div");c.className="pagination",c.innerHTML='\n    <button class="button">Prev</button>\n    <span id="page">1</span>\n    of\n    <span id="total-pages">?</span>\n    <button class="button">Next</button>\n    ';const a=c.querySelector("button:first-of-type"),o=c.querySelector("button:last-of-type");return a.toggleAttribute("disabled",1===e()),o.onclick=function(){const c=+this.previousElementSibling.innerText,o=+e();this.setAttribute("disabled",o===c-1),a.disabled=!1,n(o+1),t(o+1)},a.onclick=function(){const c=+e();this.toggleAttribute("disabled",2===c),o.disabled=!1,n(c-1),t(c-1)},c}function T({page:t,sort:e,order:n}={page:1}){((t,e,n=1)=>{const c=new URLSearchParams({_limit:10,_page:n,_sort:t,_order:e});return g.search=c.toString(),a(g)})(e,n,t).then((e=>{const n=document.querySelector("tbody");n.innerHTML="",e.forEach((async({id:e,wins:c,time:o},r)=>{const{name:s,color:i}=await(t=>(l.search="",a(h(l,t))))(e);n.appendChild(function(t,e,n,c,a){const o=`\n    <th>${t}</th>\n    <td class="car-icon"></td>\n    <td>${n}</td>\n    <td>${c}</td>\n    <td>${a}</td>\n  `,r=document.createElement("tr");return r.innerHTML=o,r.querySelector(".car-icon").appendChild(b(e,"small")),r}(r+1+10*(t-1),i,s,c,o))}))}))}const L=new class{constructor(){this.page=1}sort;order;getPage=()=>this.page;setPage=t=>{this.page=t}},z=(t,e,n)=>{const{sort:c,order:a,page:o}=L;L.order=c===t&&"ASC"===a?"DESC":"ASC",L.sort=t,T({sort:t,order:L.order,page:o});const r=n;e.lastChild.innerText=c===t&&"ASC"===a?"▲":"▼",r.lastChild.innerText=""},A=t.p+"assets/75011aaa35865f9e2893.png",P=t.p+"assets/c42aa4a3ced23749c3af.png",q=document.createElement("footer");q.innerHTML='<a href="https://rs.school/" target="_blank" rel="noreferrer"><img width="90" height="60" alt="logo"/></a><span></span><a href="https://github.com/SAK74" target="_blank" rel="noreferrer" class="author"> <span>by SAK74</span> <img width="60" height="60" alt="gh-logo"/> </a><span>© 2023</span> ',q.querySelector("img[alt=logo]").src=A,q.querySelector("img[alt=gh-logo]").src=P;const B=q,k=new n("garage",(function(){const t=document.getElementById("root");t.innerHTML='<h2>Garage (<span id="total"></span>)</h2> <div class="controll"> <form name="create"> <input name="name" id="create-name"/> <input name="color" type="color" name="color"/> <button class="ctrl-btn">Create</button> </form> <form name="update"> <input type="text" name="name" disabled="disabled"/> <input type="color" name="color" disabled="disabled" value="#000000"/> <input name="id"/> <button type="submit" disabled="disabled" name="button" class="ctrl-btn"> Update </button> </form> <button id="race" class="ctrl-btn">Race</button> <button id="reset" disabled="disabled" class="ctrl-btn">Reset</button> <button id="generate" class="ctrl-btn">Generate 100 cars</button> </div> <div class="cars-container"></div> ';const n=document.forms.create,c=document.forms.update,o=document.querySelector(".cars-container");n.addEventListener("submit",(function(t){((t,e,n)=>{t.preventDefault(),p(e.name.value,e.color.value).then((t=>{if(document.getElementById("total").innerText=+document.getElementById("total").innerText+1,n.children.length<7){const{name:e,color:c,id:a}=t;n.appendChild(f(e,c,a))}}))})(t,this,o)})),c.addEventListener("submit",(function(t){((t,e,n)=>{t.preventDefault();const{id:c,name:o,color:r,button:s}=e;var i,d,m;(i=c.value,d=o.value,m=r.value,l.search="",a(h(l,i),{headers:u,method:"PUT",body:JSON.stringify({name:d,color:m})})).then((t=>{const{name:c,color:a,id:i}=t;n.replaceChild(f(c,a,i),document.getElementById(`car#${i}`)),e.reset(),s.disabled=!0,o.disabled=!0,r.disabled=!0}))})(t,this,o)})),document.getElementById("generate").onclick=()=>{(function(t=100){const e=[];for(let n=0;n<t;n+=1){const{name:t,color:n}=new v;e.push({name:t,color:n})}return e.map((t=>p(t.name,t.color).then((()=>{})))),Promise.all(e)})().then((()=>{M()}))};const i=E(M,e);t.appendChild(i),M();const d=document.getElementById("race"),m=document.getElementById("reset");d.onclick=function(){this.disabled=!0,m.disabled=!1,(async()=>{const t=document.getElementsByClassName("car-container"),e=Array.from(t).map((t=>{const e=t.querySelector("svg"),n=parseInt(t.id.replace("car#",""),10);return t.querySelector(".go-btn").disabled=!0,t.querySelector(".stop-btn").disabled=!1,{id:n,carElem:e}}));await Promise.all(e.map((({id:t,carElem:e})=>s(t,e)))),C(),e.forEach((({id:t,carElem:e})=>{r(t,"drive").catch((()=>{e.getAnimations()[0].pause()}))}))})()},m.onclick=function(){this.disabled=!0,d.disabled=!1,(()=>{const t=document.getElementsByClassName("stop-btn");for(let e=0;e<t.length;e+=1)t[e].click()})()}}),!0),I=new n("winners",(function(){const t=document.getElementById("root");t.innerHTML='<h2>Winners (<span id="total"></span>)</h2> <table> <thead> <tr> <td>№</td> <td>Car</td> <td>Name</td> <td class="header-clickable">Wins<span></span></td> <td class="header-clickable time">Best time<span></span></td> </tr> </thead> <tbody></tbody> </table> ',T();const e=document.querySelector(" thead .header-clickable"),n=document.querySelector(" thead .time");e.onclick=function(){return z("wins",this,n)},n.onclick=function(){return z("time",this,e)};const c=E((t=>T({page:t,sort:L.sort,order:L.order})),{getPage:L.getPage,setPage:L.setPage});t.appendChild(c)}));window.sessionStorage.removeItem("garage-page"),new class{constructor(t){this.routes=t,this.init()}init(){window.addEventListener("hashchange",this.hasChanged.bind(this)),this.hasChanged()}hasChanged(){const{hash:t}=window.location;if(t.length)for(let t=0;t<this.routes.length;t+=1)this.routes[t].isActive()&&this.routes[t].script();else for(let t=0;t<this.routes.length;t+=1)this.routes[t].index&&(this.routes[t].script(),window.location.hash=this.routes[t].name)}}([k,I]);const x=function({garageRoute:t,winnersRoute:e}){const n=document.createElement("header");n.innerHTML='<h1 class="title">Async race</h1> <nav> <a href="#winners"><button class="to-winners button">Winners</button></a> <a href="#garage"><button class="to-garage button">Garage</button></a> </nav> ';const c=n.querySelector(".to-winners"),a=n.querySelector(".to-garage");return c.disabled=e.isActive(),a.disabled=t.isActive(),window.addEventListener("hashchange",(()=>{c.disabled=e.isActive(),a.disabled=t.isActive()})),function(t){const e=t.innerText,n=t;n.innerHTML="",e.split("").forEach(((t,e)=>{n.innerHTML+=`<span class="letter" style="--i:${e}">${t}</span>`}))}(n.querySelector(".title")),n}({garageRoute:k,winnersRoute:I});document.body.insertBefore(x,document.getElementById("root")),document.body.appendChild(B)})();